<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <title>Local Personal Authors</title>

    <!-- Bootstrap -->
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <script src="js/angular/angular.min.js"></script>
    <script src="js/angular/angular.js"></script>
    <script src="js/usersjs.js" type="text/javascript"></script>

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>

    <![endif]-->
    </head>
    <body ng-app="myAppuser" >


        <nav class="navbar navbar-inverse">

            <div class="navbar-header">
                <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target=".navbar-collapse">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="personalauthor.html">Auctoritas 2.0</a>
            </div>
            <div class="navbar-collapse collapse">
                <ul class="nav navbar-nav">
                    <li><a href="personalauthor.html">Home</a></li>
                    <li><a href="#about">About</a></li>
                    <li  class="active"><a href="usermanagement.html" >User Management</a>  </li>
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Sign out? <span class="caret"></span></a>
                        <ul class="dropdown-menu">
                            <li><a href="/logout">Logout</a></li>
                        </ul>
                    </li>
                </ul>
            </div><!--/.nav-collapse -->
        </div>
        </nav>

        <div class="container">
            <div  ng-controller="myUserController">

        <br /> <button class="btn btn-sm btn-info" ng-click="adduser()">Add user</button>
                <button class="btn btn-sm btn-info" ng-click="finduser()">Find user</button>
<br />
                <div ng-show="userform">
                <form name="userForm" class="form-horizontal" novalidate>
                    <div class="form-group">
                        <div class="col-xs-4">
                    <label for="name">Name</label>

                    <input name="name" class="form-control" type="text" ng-model="formname" ng-model-options="{ updateOn: 'blur' }" ng-pattern="/^[a-zA-Z\s]*$/" required />
      <span class="messages" ng-show="userForm.$submitted || userForm.name.$touched || userForm.name.$pattern">
        <span ng-show="userForm.name.$error.required">This field is required.</span>
           <span ng-show="userForm.name.$error.pattern">Enter a text.</span>
      </span>
                        </div>

                    <div class="col-xs-4">
                    <label for="lastname">Last name</label>

                    <input name="lastname" type="text" class="form-control" ng-model="formlastname" ng-model-options="{ updateOn: 'blur' }" ng-pattern="/^[a-zA-Z\s]*$/" required />
      <span class="messages" ng-show="userForm.$submitted || userForm.lastname.$touched || userForm.lastname.$pattern">
        <span ng-show="userForm.lastname.$error.required">This field is required.</span>
                     <span ng-show="userForm.lastname.$error.pattern">Enter a text.</span>

      </span>
                         </div>

                        <br />
                        <br />
                        <br />
                        <br />

                        <div class="col-xs-4">
                            <label for="username">Username</label>

                            <input name="username" type="text" class="form-control" ng-model="formusername" ng-model-options="{ updateOn: 'blur' }" required />
      <span class="messages" ng-show="userForm.$submitted || userForm.lastname.$touched || userForm.lastname.$pattern">
        <span ng-show="userForm.username.$error.required">This field is required.</span>
      </span>
                        </div>


                        <div class="col-xs-4">
                    <label for="password">Password</label><br />
                    <input name="password" type="password" class="form-control" ng-model="formpassword" ng-model-options="{ updateOn: 'blur' }" minlength="8" required />
      <span class="messages" ng-show="userForm.$submitted || userForm.password.$touched ||userForm.password.$minlength">
        <span ng-show="userForm.password.$error.required">This field is required.</span>
          <span ng-show="userForm.password.$error.minlength">Type at least eigth characters.</span>
      </span>
                            </div>

                        <div class="col-xs-4">
                    <label for="confirmpassword">Confirm Password</label><br />
                    <input name="confirmpassword" type="password" class="form-control" ng-model="formconfirmpassword" ng-model-options="{ updateOn: 'blur' }" match-password="user.password" minlength="8" required />

            <span class="messages" ng-show="userForm.$submitted || userForm.confirmpassword.$touched || userForm.confirmpassword.$minlength">
        <span ng-show="userForm.confirmpassword.$error.required">This field is required.</span>
                 <span ng-show="userForm.confirmpassword.$error.minlength">Type at least eigth characters.</span>
      </span>
                        </div>
                        <br />
                        <br />
                        <br />
                        <br />
                        <div class="col-xs-4">
                    <label for="role">Role</label><br />
                    <input name="role" type="radio" ng-model="formrole" value="admin" required/> Admin role
                    <input name="role" type="radio" ng-model="formrole" value="user" required/> User role
                            <span class="messages" ng-show="userForm.$submitted || userForm.confirmpassword.$touched" >
                            <span ng-show="userForm.role.$error.required">This field is required.</span>
                            </span>
                        <br />
                            <br />
                    <input type="submit" class="btn btn-sm btn-info" ng-click="adduser2()" value="Add" ng-disabled="userForm.$invalid" />
                    <input type="reset" class="btn btn-sm btn-info" ng-click="reset(userForm)" value="Clear" />
                </div>
                        </div>
                </form>
                </div>
            <div ng-show="finduserform">
                <form name="finduserForm" class="form-horizontal" novalidate>
                    <div class="form-group">

                        <div class="col-xs-4">
                            <label for="name">Name</label>
                            <input name="name" class="form-control" placeholder="Name" type="text" ng-model="fformname" ng-model-options="{ updateOn: 'blur' }"  ng-pattern="/^[a-zA-Z\s]*$/"/>
                     <span class="messages" ng-show="finduserForm.name.$touched || finduserForm.name.$pattern">
          <span ng-show="finduserForm.name.$error.pattern">Enter a text.</span>
                         </span>
      <br/>
                            <input type="submit" class="btn btn-sm btn-info" ng-click="finduser2()" value="Find" ng-disabled="finduserForm.$invalid"/>
                            <input type="reset" class="btn btn-sm btn-info" ng-click="reset(findauthorForm)" value="Clear" />
                        </div>
                    </div>
                </form>
                <div class="userresp" ng-show="userrespf">
                    <br/>
                    The result of the search is:
                    <br/>
                    <table class="table table-striped">
                        <thead>
                        <tr>
                            <td>Name</td>
                            <td>Lastname</td>
                            <td>User name</td>
                            <td>Role</td>
                        </tr>
                        </thead>
                        <tbody>
                        <tr ng-repeat="w in findeddata">
                            <td>{{w.name}}</td>
                            <td>{{w.lastname}}</td>
                            <td>{{w.username}}</td>
                            <td>{{w.role}}</td>
                            <br/>
                            <td><button class="btn btn-sm btn-danger" ng-click="deleteAuthor3(w)">Delete</button></td>
                            <td><button class="btn btn-sm btn-info" ng-click="updateAuthor2(w)">Change password</button></td>

                        </tr>
                        </tbody>
                    </table>

                </div>
                <div class="update2" ng-show="updateuser2">

                    <form name="updateuserForm" class="form-horizontal" novalidate>
                        <div class="form-group">


                            <div class="col-xs-4">
                                <label for="password">New password</label><br />
                                <input name="password" type="password" class="form-control" ng-model="uformpassword" ng-model-options="{ updateOn: 'blur' }" minlength="8" required />
      <span class="messages" ng-show="updateuserForm.$submitted || updateuserForm.password.$touched ||updateuserForm.password.$minlength">
        <span ng-show="updateuserForm.password.$error.required">This field is required.</span>
          <span ng-show="updateuserForm.password.$error.minlength">Type at least eigth characters.</span>
      </span>
                            </div>

                            <div class="col-xs-4">
                                <label for="confirmpassword">Confirm new Password</label><br />
                                <input name="confirmpassword" type="password" class="form-control" ng-model="uformconfirmpassword" ng-model-options="{ updateOn: 'blur' }"  minlength="8" required />

            <span class="messages" ng-show="updateuserForm.$submitted || updateuserForm.confirmpassword.$touched || updateuserForm.confirmpassword.$minlength">
        <span ng-show="updateuserForm.confirmpassword.$error.required">This field is required.</span>
                 <span ng-show="updateuserForm.confirmpassword.$error.minlength">Type at least eigth characters.</span>
      </span>
                            </div>
                            <br />
                            <br />
                            <br />
                            <br />
                            <div class="col-xs-4">

                                <input type="submit" class="btn btn-sm btn-info" ng-click="updateuser3(userObject)" value="Update"/>
                                <input type="reset" class="btn btn-sm btn-info" ng-click="reset(updateauthorForm)" value="Clear" />
                                <input type="button" class="btn btn-sm btn-info" ng-click="cancel()" value="Cancel" />
                            </div>
                        </div>
                    </form>
                </div>

            </div>
    </div>
    </div>

    </div>
    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="js/jquery-2.2.3.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="js/bootstrap.min.js"></script>

    </body>
    </html>